{{#if header}}
  const headersSchema = {{json header}};

  function isHeaders(obj: unknown): obj is {{capitalize name}}Headers {
    const isValid = ajv.validate(headersSchema, obj);

    return !!isValid;
  }

  if (!isHeaders(headers)) {
    throw new RequestValidationError({
      message: 'Request headers schema validation error',
      method: '{{name}}',
      element: 'headers',
    });
  }
{{/if}}

{{#if (and header (eq mimeType 'multipart/form-data'))}}
  const requestHeaders = headers;
{{else}}
  const requestHeaders = {
    'Content-Type': '{{mimeType}}',
    {{#if header}}
    ...headers,
    {{/if}}
  };
{{/if}}
