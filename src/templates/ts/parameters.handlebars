{{#if params}}
  const paramsSchema = {{json params}};
  const isParamsValid = ajv.validate(paramsSchema, params);

  if (!isParamsValid) {
    const error = new Error('Params schema validation error');
    throw error;
  }

  if (Object.keys(params)) {
    Object.keys(params).forEach((param) => {
      requestUrl = requestUrl.replace(`{${param}}`, encodeURIComponent(String(params[param])));
    });
  }
{{/if}}
